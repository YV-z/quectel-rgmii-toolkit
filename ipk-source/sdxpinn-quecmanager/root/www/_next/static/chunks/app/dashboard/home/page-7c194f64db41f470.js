(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6665],{31710:(e,s,l)=>{Promise.resolve().then(l.bind(l,77501))},77501:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>eZ});var t=l(20475),n=l(20107),r=l(32857),i=l(72167),a=l(36760),o=l(45934);let d=e=>{let{data:s,isLoading:l}=e;return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Sim Card"}),(0,t.jsx)(i.BT,{children:"Sim card information"})]}),(0,t.jsxs)(i.Wu,{className:"grid gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Sim Card Slot in Use"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[50px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.simCard.slot})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Sim Card State"}),l?(0,t.jsx)(a.E,{className:"h-6 w-[100px]"}):(0,t.jsx)(o.E,{className:"font-bold ".concat((null==s?void 0:s.simCard.state)==="Inserted"?"bg-emerald-500 hover:bg-emerald-800":"bg-rose-500 hover:bg-rose-800"),children:null==s?void 0:s.simCard.state})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Provider"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.simCard.provider})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Phone Number"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[140px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.simCard.phoneNumber})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"IMSI"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[140px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.simCard.imsi})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"ICCID"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[140px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.simCard.iccid})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"IMEI"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[140px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.simCard.imei})]})]})]})},c={6:"1.4 MHz",15:"3 MHz",25:"5 MHz",50:"10 MHz",75:"15 MHz",100:"20 MHz"},u={0:"5 MHz",1:"10 MHz",2:"15 MHz",3:"20 MHz",4:"25 MHz",5:"30 MHz",6:"40 MHz",7:"50 MHz",8:"60 MHz",9:"70 MHz",10:"80 MHz",11:"90 MHz",12:"100 MHz",13:"200 MHz",14:"400 MHz",15:"35 MHz",16:"45 MHz"},m={2:"UTRAN",4:"HSDPA",5:"HSUPA",6:"HSDPA & HSUPA",7:"E-UTRAN",10:"E-UTRAN - 5GCN",11:"NR - 5GCN",12:"NG-RAN",13:"E-UTRAN-NR Dual"},x=e=>m[e]||"Unknown",p=e=>{let{data:s,isLoading:l,dataConnectionState:n,connectionStateLoading:r}=e;return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Connection"}),(0,t.jsx)(i.BT,{children:"Connection information"})]}),(0,t.jsxs)(i.Wu,{className:"grid gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("div",{children:"APN"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("div",{className:"font-bold",children:null==s?void 0:s.connection.apn})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("div",{children:"Operator State"}),l?(0,t.jsx)(a.E,{className:"h-6 w-[100px]"}):(0,t.jsx)(o.E,{className:"font-bold ".concat((null==s?void 0:s.connection.operatorState)==="Unknown"||(null==s?void 0:s.connection.operatorState)==="Denied"||(null==s?void 0:s.connection.operatorState)==="Not Registered"?"bg-rose-500 hover:bg-rose-800":"bg-emerald-500 hover:bg-emerald-800"),children:null==s?void 0:s.connection.operatorState})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("div",{children:"Functionality State"}),l?(0,t.jsx)(a.E,{className:"h-6 w-[100px]"}):(0,t.jsx)(o.E,{className:"font-bold ".concat((null==s?void 0:s.connection.functionalityState)==="Enabled"?"bg-emerald-500 hover:bg-emerald-800":"bg-rose-500 hover:bg-rose-800"),children:null==s?void 0:s.connection.functionalityState})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("div",{children:"Data Connection State"}),r?(0,t.jsx)(a.E,{className:"h-6 w-[100px]"}):(0,t.jsx)(o.E,{className:"font-bold ".concat("Connected"===n?"bg-emerald-500 hover:bg-emerald-800":"bg-rose-500 hover:bg-rose-800"),children:n})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("div",{children:"Network Type"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("div",{className:"font-bold",children:null==s?void 0:s.connection.networkType})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("div",{children:"Modem Temperature"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("div",{className:"font-bold",children:null==s?void 0:s.connection.modemTemperature})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("div",{children:"Access Technology"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("div",{className:"font-bold",children:(null==s?void 0:s.connection.accessTechnology)?x(s.connection.accessTechnology):"Unknown"})]})]})]})},h=e=>{let{data:s,isLoading:l,bytesSent:n,bytesReceived:r}=e;return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Data Transmission"}),(0,t.jsx)(i.BT,{children:"Data transmission information"})]}),(0,t.jsxs)(i.Wu,{className:"grid gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Carrier Aggregation"}),l?(0,t.jsx)(a.E,{className:"h-6 w-[100px]"}):(0,t.jsx)(o.E,{className:"font-bold ".concat((null==s?void 0:s.dataTransmission.carrierAggregation)==="Multi"?"bg-emerald-500 hover:bg-emerald-800":"bg-rose-500 hover:bg-rose-800"),children:null==s?void 0:s.dataTransmission.carrierAggregation})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Bandwidth"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.dataTransmission.bandwidth})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Connected Bands"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.dataTransmission.connectedBands})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Signal Strength"}),l?(0,t.jsx)(a.E,{className:"h-6 w-[100px]"}):(0,t.jsx)(o.E,{className:"font-bold ".concat((null==s?void 0:s.dataTransmission.signalStrength)&&parseInt(null==s?void 0:s.dataTransmission.signalStrength)>80?"bg-emerald-500 hover:bg-emerald-800":(null==s?void 0:s.dataTransmission.signalStrength)&&parseInt(null==s?void 0:s.dataTransmission.signalStrength)>40?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800"),children:null==s?void 0:s.dataTransmission.signalStrength})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"MIMO Layers"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.dataTransmission.mimoLayers})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Bytes Sent"}),(0,t.jsx)("p",{className:"font-bold",children:n})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Bytes Received"}),(0,t.jsx)("p",{className:"font-bold",children:r})]})]})]})},v=e=>{let{data:s,isLoading:l}=e;return(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Cellular Information"}),(0,t.jsx)(i.BT,{children:"Cellular network information"})]}),(0,t.jsxs)(i.Wu,{className:"grid gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Cell ID"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[80px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.cellularInfo.cellId})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"TAC"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[80px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.cellularInfo.trackingAreaCode})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Physical Cell IDs"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[80px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.cellularInfo.physicalCellId})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"E/ARFCN"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[80px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.cellularInfo.earfcn})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Mobile Country Code"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[80px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.cellularInfo.mcc})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Mobile Network Code"}),l?(0,t.jsx)(a.E,{className:"h-4 w-[80px]"}):(0,t.jsx)("p",{className:"font-bold",children:null==s?void 0:s.cellularInfo.mnc})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between text-md",children:[(0,t.jsx)("p",{children:"Antenna Signal Quality"}),l?(0,t.jsx)(a.E,{className:"h-6 w-[80px]"}):(0,t.jsx)(o.E,{className:"\n                font-bold ".concat((null==s?void 0:s.cellularInfo.signalQuality)&&parseInt(null==s?void 0:s.cellularInfo.signalQuality)>80?"bg-emerald-500 hover:bg-emerald-800":(null==s?void 0:s.cellularInfo.signalQuality)&&parseInt(null==s?void 0:s.cellularInfo.signalQuality)>40?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800"),children:null==s?void 0:s.cellularInfo.signalQuality})]})]})]})};var f=l(1307),g=l(53134),j=l(94005),N=l(4538),w=l(41797),b=l(79492);let y={signal:{label:"LTE/5G Signal Metrics"},rsrp:{label:"RSRP",color:"hsl(var(--chart-1))"},rsrq:{label:"RSRQ",color:"hsl(var(--chart-2))"},sinr:{label:"SINR",color:"hsl(var(--chart-3))"}},S=e=>{let s=e.split("\n").filter(e=>e.trim()),l=[];s.forEach(e=>{let s=e.match(/-?\d+/g);s&&l.push(...s.map(Number))});let t=l.filter(e=>-140!==e&&-32768!==e);return 0===t.length?0:Math.round(t.reduce((e,s)=>e+s,0)/t.length)},A=()=>{let[e,s]=(0,n.useState)([]),[l,r]=(0,n.useState)("rsrp"),[o,d]=(0,n.useState)(!0),[c,u]=(0,n.useState)(null),m=(0,n.useCallback)(async()=>{try{let e=await fetch("/cgi-bin/quecmanager/home/fetch_signal_metrics.sh");if(!e.ok)throw Error("Failed to fetch signal metrics");let l=await e.json(),t=Math.min(l.rsrp.length,l.rsrq.length,l.sinr.length),n=Array.from({length:t},(e,s)=>({time:l.rsrp[s].datetime,rsrp:S(l.rsrp[s].output),rsrq:S(l.rsrq[s].output),sinr:S(l.sinr[s].output)}));s(n),u(null)}catch(e){console.error("Error fetching metrics:",e),u(e instanceof Error?e.message:"An unknown error occurred"),s([])}finally{d(!1)}},[]);(0,n.useEffect)(()=>{m();let e=setInterval(m,15e3);return()=>clearInterval(e)},[m]);let x=e.length>0?e[e.length-1]:{rsrp:0,rsrq:0,sinr:0};return c?(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.aR,{children:[(0,t.jsx)(i.ZB,{children:"Error Loading Signal Metrics"}),(0,t.jsx)(i.BT,{children:c})]})}):(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-col items-stretch space-y-0 border-b p-0 sm:flex-row",children:[(0,t.jsxs)("div",{className:"flex flex-1 flex-col justify-center gap-1 px-6 py-5 sm:py-6",children:[(0,t.jsx)(i.ZB,{children:"Antenna Port Signal Metrics"}),(0,t.jsx)(i.BT,{children:"Per-port signal values averaged across all active ports"})]}),(0,t.jsx)("div",{className:"flex",children:["rsrp","rsrq","sinr"].map(e=>(0,t.jsxs)("button",{"data-active":l===e,className:"flex flex-1 flex-col justify-center gap-1 border-t px-6 py-4 text-left even:border-l data-[active=true]:bg-muted/50 sm:border-l sm:border-t-0 sm:px-8 sm:py-6",onClick:()=>r(e),children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:y[e].label}),o?(0,t.jsx)(a.E,{className:"lg:h-10 h-6 w-full"}):(0,t.jsx)("span",{className:"text-base font-bold leading-none sm:text-3xl",children:x[e].toFixed(0)})]},e))})]}),(0,t.jsx)(i.Wu,{className:"px-2 sm:p-6",children:(0,t.jsx)(f.at,{config:y,className:"aspect-auto h-[250px] w-full",children:(0,t.jsxs)(g.Q,{accessibilityLayer:!0,data:e,margin:{left:12,right:12},children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:"fillRsrp",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--color-rsrp)",stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--color-rsrp)",stopOpacity:.1})]}),(0,t.jsxs)("linearGradient",{id:"fillRsrq",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--color-rsrq)",stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--color-rsrq)",stopOpacity:.1})]}),(0,t.jsxs)("linearGradient",{id:"fillSinr",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--color-sinr)",stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--color-sinr)",stopOpacity:.1})]})]}),(0,t.jsx)(j.d,{vertical:!1}),(0,t.jsx)(N.W,{dataKey:"time",tickLine:!1,axisLine:!1,tickMargin:8,minTickGap:32,tickFormatter:e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0})}),(0,t.jsx)(w.h,{hide:!0,domain:(e=>{switch(e){case"rsrp":return[-140,-60];case"rsrq":return[-20,0];case"sinr":return[-10,30];default:return[0,"auto"]}})(l)}),(0,t.jsx)(f.II,{content:(0,t.jsx)(f.Nt,{className:"w-[200px]",nameKey:"metric",labelFormatter:e=>new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0})})}),(0,t.jsx)(b.G,{dataKey:l,type:"monotone",stroke:"var(--color-".concat(l,")"),fill:"url(#fill".concat(l.charAt(0).toUpperCase()+l.slice(1),")"),strokeWidth:2,activeDot:{r:4},baseValue:(e=>{switch(e){case"rsrp":return -140;case"rsrq":return -20;case"sinr":return -10;default:return 0}})(l)})]})})}),(0,t.jsxs)(i.wL,{className:"flex-col items-start gap-2 text-sm",children:[(0,t.jsx)("div",{className:"flex gap-2 font-medium leading-none",children:"These metrics show the aggregate antenna port measurements, not the per-band values."}),(0,t.jsx)("div",{className:"leading-none text-muted-foreground italic",children:"Higher values indicate better signal quality."})]})]})},k=e=>{if("Unknown!"===e)return"-";let s=e.match(/(\d+)/);if(!s)return e;let l=parseInt(s[1],10);return l>=1e3?"".concat(l/1e3).concat((e.includes("Gb"),"Gb/s")):"".concat(l).concat((e.includes("Mb"),"Mb/s"))},C=()=>{let[e,s]=(0,n.useState)({link_status:"Loading...",link_speed:"Loading...",auto_negotiation:"Loading..."}),[l,r]=(0,n.useState)(!0),[o,d]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{let e=await fetch("/cgi-bin/quecmanager/home/fetch_hw_details.sh?type=eth",{method:"GET",cache:"no-store",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");let l=await e.json();s(l),r(!1)}catch(e){d("Failed to fetch Ethernet information"),r(!1)}})()},[]),o)?(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Ethernet"})}),(0,t.jsx)(i.Wu,{className:"flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-red-500",children:o})})]}):(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Ethernet"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 grid-cols-2 grid-flow-row gap-4 col-span-3",children:[(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Link Status"}),(0,t.jsx)("span",{className:"text-base font-bold",children:l?(0,t.jsx)(a.E,{className:"h-8 w-full"}):"yes"===e.link_status?"Active":"Inactive"})]}),(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Link Speed"}),(0,t.jsx)("span",{className:"text-base font-bold",children:l?(0,t.jsx)(a.E,{className:"h-8 w-full"}):k(e.link_speed)})]}),(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Auto-negotiation"}),(0,t.jsx)("span",{className:"text-base font-bold",children:l?(0,t.jsx)(a.E,{className:"h-8 w-full"}):"on"===e.auto_negotiation?"Active":"Inactive"})]})]})})]})},E=e=>"".concat(Math.round(e/1048576)," MB"),I=()=>{let[e,s]=(0,n.useState)({total:0,used:0,available:0}),[l,r]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/cgi-bin/quecmanager/home/fetch_hw_details.sh?type=memory",{method:"GET",cache:"no-store",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");let t=await e.json();s(t),l&&r(!1)}catch(e){console.error("Failed to fetch memory information"),l&&r(!1)}};e();let t=setInterval(e,2e3);return()=>clearInterval(t)},[l]),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Memory"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 grid-cols-2 grid-flow-row gap-4 col-span-3",children:[(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total"}),l?(0,t.jsx)(a.E,{className:"h-6 w-24"}):(0,t.jsx)("span",{className:"text-base font-bold",children:E(e.total)})]}),(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Used"}),l?(0,t.jsx)(a.E,{className:"h-6 w-24"}):(0,t.jsx)("span",{className:"text-base font-bold",children:E(e.used)})]}),(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Available"}),l?(0,t.jsx)(a.E,{className:"h-6 w-24"}):(0,t.jsx)("span",{className:"text-base font-bold",children:E(e.available)})]})]})})]})},R={ms:{label:"ms",color:"hsl(var(--chart-4))"}},T=()=>new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"}),M=()=>{let[e,s]=(0,n.useState)(()=>{let e=localStorage.getItem("pingData");return e?JSON.parse(e):[]}),l=(0,n.useRef)(e);(0,n.useEffect)(()=>{l.current=e},[e]);let[r,d]=(0,n.useState)(()=>{let e=localStorage.getItem("pingData");if(e){let s=JSON.parse(e);return s.length>0?s[s.length-1].ms:null}return null}),[c,u]=(0,n.useState)(()=>{let e=localStorage.getItem("pingData");return!e||0===JSON.parse(e).length}),[m,x]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let t=async()=>{try{let e=await fetch("/cgi-bin/quecmanager/home/ping_latency.sh",{method:"GET",cache:"no-store",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Network response was not ok");let t=await e.json();d(e=>null===e||m?t.latency:(n(e,t.latency,e=>d(e)),e));let r=T(),i=l.current,a={time:r,ms:t.latency,index:i.length>0?5:1};s(e=>{let s;if(0===e.length)s=[,,,,,].fill(null).map((e,s)=>({...a,index:s+1,time:4===s?r:T()}));else if(e.length<5){let l=Array(5-e.length).fill(null).map((s,l)=>({...a,index:e.length+l+1}));s=[...e,...l]}else s=[...e.slice(1),a].map((e,s)=>({...e,index:s+1}));return localStorage.setItem("pingData",JSON.stringify(s)),s}),x(!0),c&&u(!1)}catch(s){console.error("Failed to fetch ping latency",s),c&&e.length>0&&u(!1)}},n=(e,s,l)=>{let t=performance.now(),n=s-e,r=s=>{let i=Math.min((s-t)/1500,1);l(Math.round(e+n*(i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2))),i<1&&requestAnimationFrame(r)};requestAnimationFrame(r)};t();let r=setInterval(t,5e3);return()=>clearInterval(r)},[]),(0,t.jsxs)(i.Zp,{children:[(0,t.jsxs)(i.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(i.ZB,{children:"Ping Latency"}),null!==r&&(0,t.jsxs)(o.E,{className:"text-normal font-bold transition-opacity duration-200 ".concat(m?"":"opacity-70"),children:[r," ms ",!m&&"(cached)"]})]}),(0,t.jsx)(i.Wu,{children:c?(0,t.jsx)(a.E,{className:"h-[200px] w-full"}):(0,t.jsx)(f.at,{config:R,children:(0,t.jsxs)(g.Q,{accessibilityLayer:!0,data:e,margin:{top:5,right:10,left:0,bottom:5},children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"fillPing",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:"var(--color-ms)",stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:"var(--color-ms)",stopOpacity:.1})]})}),(0,t.jsx)(j.d,{vertical:!1,stroke:"var(--border)",strokeOpacity:.2}),(0,t.jsx)(N.W,{dataKey:"index",tickLine:!1,axisLine:!1,tickMargin:5,tick:{fontSize:9},ticks:[1,2,3,4,5]}),(0,t.jsx)(w.h,{hide:!1,domain:(()=>{if(0===e.length)return[0,100];let s=e.map(e=>e.ms);return[Math.max(0,Math.min(...s)-5),Math.max(...s)+5]})(),tickLine:!1,axisLine:!1,width:20,tick:{fontSize:10},tickFormatter:e=>"".concat(e)}),(0,t.jsx)(f.II,{cursor:!1,content:(0,t.jsx)(f.Nt,{labelFormatter:(s,l)=>{let t=e.find(e=>e.index===s);return t?"".concat(t.time):s},formatter:(e,s)=>["".concat(e," ms"),"Latency"]})}),(0,t.jsx)(b.G,{dataKey:"ms",type:"monotone",stroke:"var(--color-ms)",strokeWidth:2,fill:"url(#fillPing)",activeDot:{r:4,strokeWidth:0},isAnimationActive:!0,animationDuration:1200,animationEasing:"ease-in-out"})]})})})]})};var B=l(42541),D=l(93557),L=l(97801),U=l(14389),z=l(98969),G=l(17799),P=l(92776),_=l.n(P),F=l(7197),q=l(74043),O=l(22250);let Z=n.createContext(null);function H(){let e=n.useContext(Z);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let Q=n.forwardRef((e,s)=>{let{orientation:l="horizontal",opts:r,setApi:i,plugins:a,className:o,children:d,...c}=e,[u,m]=(0,q.A)({...r,axis:"horizontal"===l?"x":"y"},a),[x,p]=n.useState(!1),[h,v]=n.useState(!1),f=n.useCallback(e=>{e&&(p(e.canScrollPrev()),v(e.canScrollNext()))},[]),g=n.useCallback(()=>{null==m||m.scrollPrev()},[m]),j=n.useCallback(()=>{null==m||m.scrollNext()},[m]),N=n.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),g()):"ArrowRight"===e.key&&(e.preventDefault(),j())},[g,j]);return n.useEffect(()=>{m&&i&&i(m)},[m,i]),n.useEffect(()=>{if(m)return f(m),m.on("reInit",f),m.on("select",f),()=>{null==m||m.off("select",f)}},[m,f]),(0,t.jsx)(Z.Provider,{value:{carouselRef:u,api:m,opts:r,orientation:l||((null==r?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:g,scrollNext:j,canScrollPrev:x,canScrollNext:h},children:(0,t.jsx)("div",{ref:s,onKeyDownCapture:N,className:(0,O.cn)("relative",o),role:"region","aria-roledescription":"carousel",...c,children:d})})});Q.displayName="Carousel";let W=n.forwardRef((e,s)=>{let{className:l,...n}=e,{carouselRef:r,orientation:i}=H();return(0,t.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,t.jsx)("div",{ref:s,className:(0,O.cn)("flex","horizontal"===i?"-ml-4":"-mt-4 flex-col",l),...n})})});W.displayName="CarouselContent";let K=n.forwardRef((e,s)=>{let{className:l,...n}=e,{orientation:r}=H();return(0,t.jsx)("div",{ref:s,role:"group","aria-roledescription":"slide",className:(0,O.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===r?"pl-4":"pt-4",l),...n})});K.displayName="CarouselItem",n.forwardRef((e,s)=>{let{className:l,variant:n="outline",size:r="icon",...i}=e,{orientation:a,scrollPrev:o,canScrollPrev:d}=H();return(0,t.jsxs)(B.$,{ref:s,variant:n,size:r,className:(0,O.cn)("absolute  h-8 w-8 rounded-full","horizontal"===a?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",l),disabled:!d,onClick:o,...i,children:[(0,t.jsx)(F.A60,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Previous slide"})]})}).displayName="CarouselPrevious",n.forwardRef((e,s)=>{let{className:l,variant:n="outline",size:r="icon",...i}=e,{orientation:a,scrollNext:o,canScrollNext:d}=H();return(0,t.jsxs)(B.$,{ref:s,variant:n,size:r,className:(0,O.cn)("absolute h-8 w-8 rounded-full","horizontal"===a?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",l),disabled:!d,onClick:o,...i,children:[(0,t.jsx)(F.flY,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Next slide"})]})}).displayName="CarouselNext";let $=e=>{let{id:s,bandNumber:l,earfcn:n,bandwidth:r,pci:a,rsrp:d,rsrq:c,sinr:u}=e;return(0,t.jsx)(i.Zp,{className:"p-8",children:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-6 justify-between",children:[(0,t.jsxs)("div",{className:"grid gap-2 w-[180px]",children:[(0,t.jsx)("h2",{className:"text-md font-bold",children:"Band"}),(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[l.replace("LTE BAND ","B").replace("NR5G BAND ","N"),l.includes("NR5G")&&(0,t.jsx)(o.E,{className:"text-xs bg-blue-600 hover:bg-blue-800",children:"NR 5G"})]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-bold",children:"E/ARFCN"}),(0,t.jsx)("p",{children:n})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-bold",children:"Bandwidth"}),(0,t.jsx)("p",{children:r})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-bold",children:"Physical Cell ID"}),(0,t.jsx)("p",{children:a})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-bold",children:"RSRP"}),(0,t.jsxs)(o.E,{className:parseInt(d)>=-80?"bg-emerald-500 hover:bg-emerald-800":parseInt(d)>=-100?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800",children:[d," dBm"]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-bold",children:"RSRQ"}),(0,t.jsxs)(o.E,{className:10>=parseInt(c)?"bg-emerald-500 hover:bg-emerald-800":20>=parseInt(c)?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800",children:[c," dB"]})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)("p",{className:"text-sm font-bold",children:"SINR"}),(0,t.jsxs)(o.E,{className:parseInt(u)>=20?"bg-emerald-500 hover:bg-emerald-800":parseInt(u)>=0?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800",children:[u," dB"]})]})]})})},V=e=>{let{bands:s,isLoading:l}=e;return l?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"hidden lg:block w-full",children:(0,t.jsxs)(i.Zp,{className:"p-6 grid gap-4",children:[s&&s.map(e=>(0,t.jsx)($,{...e},e.id)),(0,t.jsx)(i.wL,{className:"w-full p-6 flex items-center justify-center",children:(0,t.jsx)(i.BT,{className:"text-md",children:"Currently bands connected."})})]})}),(0,t.jsx)(Q,{className:"lg:hidden w-full max-w-xs",children:(0,t.jsx)(W,{children:(0,t.jsx)(K,{children:(0,t.jsx)("div",{className:"p-1",children:(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.Wu,{className:"aspect-square p-4 gap-4 flex flex-col items-center justify-center flex-grow",children:[(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"Band"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.E,{className:"w-16 h-4"})})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"E/ARFCN"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.E,{className:"w-16 h-4"})})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"Bandwidth"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.E,{className:"w-16 h-4"})})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"PCI"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.E,{className:"w-16 h-4"})})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"RSRP"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.E,{className:"w-32 h-4"})})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"RSRQ"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.E,{className:"w-32 h-4"})})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"SINR"}),(0,t.jsx)("div",{children:(0,t.jsx)(a.E,{className:"w-32 h-4"})})]})]})})})})})})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"hidden lg:block w-full",children:(0,t.jsx)(i.Zp,{className:"p-6 grid gap-4",children:s&&s.map(e=>(0,t.jsx)($,{...e},e.id))})}),(0,t.jsx)(Q,{className:"lg:hidden w-full max-w-xs",children:(0,t.jsx)(W,{children:null==s?void 0:s.map(e=>(0,t.jsx)(K,{className:"md:basis-1/2 lg:basis-1/3",children:(0,t.jsx)("div",{className:"p-1",children:(0,t.jsx)(i.Zp,{children:(0,t.jsxs)(i.Wu,{className:"aspect-square p-4 gap-4 flex flex-col items-center justify-center flex-grow",children:[(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"Band"}),(0,t.jsx)("p",{children:e.bandNumber})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"E/ARFCN"}),(0,t.jsx)("p",{children:e.earfcn})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"Bandwidth"}),(0,t.jsx)("p",{children:e.bandwidth})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"PCI"}),(0,t.jsx)("p",{children:e.pci})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"RSRP"}),(0,t.jsxs)(o.E,{className:parseInt(e.rsrp)>=-80?"bg-emerald-500 hover:bg-emerald-800":parseInt(e.rsrp)>=-100?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800",children:[e.rsrp," dBm"]})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"RSRQ"}),(0,t.jsxs)(o.E,{className:10>=parseInt(e.rsrq)?"bg-emerald-500 hover:bg-emerald-800":20>=parseInt(e.rsrq)?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800",children:[e.rsrq," dB"]})]}),(0,t.jsxs)("div",{className:"flex justify-between w-full",children:[(0,t.jsx)("p",{children:"SINR"}),(0,t.jsxs)(o.E,{className:parseInt(e.sinr)>=20?"bg-emerald-500 hover:bg-emerald-800":parseInt(e.sinr)>=0?"bg-orange-500 hover:bg-orange-800":"bg-rose-500 hover:bg-rose-800",children:[e.sinr," dB"]})]})]})})})},e.id))})})]})},J=e=>{try{var s,l;return(null==e?void 0:null===(l=e.split("\n")[1])||void 0===l?void 0:null===(s=l.split(":")[1])||void 0===s?void 0:s.split(",")[2].replace(/"/g,"").trim())||"Unknown"}catch(e){return"-"}},Y=e=>{try{var s,l;return(null==e?void 0:null===(l=e.split("\n")[1])||void 0===l?void 0:null===(s=l.split(":")[1])||void 0===s?void 0:s.split(",")[3].trim())||"Unknown"}catch(e){return"-"}},X=(e,s)=>{var l,t,n,r;switch(Number(null===(t=e.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[1].trim())||Number(null===(r=s.split("\n")[1])||void 0===r?void 0:null===(n=r.split(":")[1])||void 0===n?void 0:n.split(",")[1].trim())){case 1:return"Registered";case 2:return"Searching";case 3:return"Denied";case 4:return"Unknown";case 5:return"Roaming";default:return"Not Registered"}},ee=e=>{let s=e.match(/"LTE BAND \d+"|"NR5G BAND \d+"/g),l=null==s?void 0:s.some(e=>e.includes("LTE")),t=null==s?void 0:s.some(e=>e.includes("NR5G"));return l&&t?"NR5G-NSA":l?"LTE":t?"NR5G-SA":"No Signal"},es=e=>{let s=["cpuss-0","cpuss-1","cpuss-2","cpuss-3"].map(s=>{var l;let t=e.split("\n").find(e=>e.includes(s));return parseInt(null==t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[1].replace(/"/g,"").trim())}),l=s.reduce((e,s)=>e+s,0)/s.length;return"".concat(Math.round(l),"\xb0C")},el=(e,s)=>{var l;let t=e.split("\n").find(e=>e.includes("PCC"));t=null==t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[2].trim();let n=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("LTE"));n=n.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[2].trim()});let r=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("NR5G"));if(r=r.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[2].trim()}),"LTE"===s)return!n.length&&t?c[t]||"Unknown":[t?c[t]:"",...n.map(e=>c[e])].join(", ");if("NR5G-SA"===s&&t)return r.length?[u[t],...r.map(e=>u[e])].join(", "):u[t]||"Unknown";if("NR5G-NSA"===s&&t)return n.length||r.length?n.length&&!r.length?[c[t],...n.map(e=>c[e])].join(", "):[c[t],...n.map(e=>c[e]),...r.map(e=>u[e])].join(", "):c[t]||"Unknown";return"Unknown"},et=e=>{let s=e.match(/"LTE BAND \d+"|"NR5G BAND \d+"/g);return(null==s?void 0:s.map(e=>e.includes("LTE")?"B".concat(e.match(/\d+/)):e.includes("NR5G")?"N".concat(null==e?void 0:e.split(" ")[2].replace(/"/g,"").trim()):void 0).join(", "))||"Unknown"},en=e=>{var s,l;let t=e.split("\n").find(e=>e.includes("LTE")),n=e.split("\n").find(e=>e.includes("NR5G")),r=[],i=[];if(t&&(r=null==t?void 0:null===(s=t.split(":")[1])||void 0===s?void 0:s.split(",").slice(0,4).map(e=>parseInt(e.trim()))),n&&(i=null==n?void 0:null===(l=n.split(":")[1])||void 0===l?void 0:l.split(",").slice(0,4).map(e=>parseInt(e.trim()))),r=r.filter(e=>-140!==e&&-37625!==e&&-32768!==e),i=i.filter(e=>-140!==e&&-37625!==e&&-32768!==e),r.length){if(i.length){let e=r.reduce((e,s)=>e+s,0)/r.length,s=i.reduce((e,s)=>e+s,0)/i.length,l=Math.max(0,Math.min(100,(e+125)/50*100)),t=Math.max(0,Math.min(100,(s+125)/50*100));return"".concat(Math.round((l+t)/2),"%")}{let e=Math.max(0,Math.min(100,(r.reduce((e,s)=>e+s,0)/r.length+125)/50*100));return"".concat(Math.round(e),"%")}}if(!i.length)return"Unknown%";{let e=Math.max(0,Math.min(100,(i.reduce((e,s)=>e+s,0)/i.length+125)/50*100));return"".concat(Math.round(e),"%")}},er=(e,s)=>{var l,t,n,r;return"NR5G-SA"===s||"LTE"===s?null===(t=e.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[6].trim():"NR5G-NSA"===s?null===(r=e.split("\n")[2])||void 0===r?void 0:null===(n=r.split(":")[1])||void 0===n?void 0:n.split(",")[4].trim():"Unknown"},ei=(e,s)=>{var l,t,n,r,i,a;return"NR5G-SA"===s?null===(t=e.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[8].trim():"NR5G-NSA"===s?null===(r=e.split("\n")[2])||void 0===r?void 0:null===(n=r.split(":")[1])||void 0===n?void 0:n.split(",")[10].trim():"LTE"===s?null===(a=e.split("\n")[1])||void 0===a?void 0:null===(i=a.split(":")[1])||void 0===i?void 0:i.split(",")[12].trim():"Unknown"},ea=(e,s)=>{var l,t;if("LTE"===s||"NR5G-NSA"===s){let t=e.split("\n").find(e=>e.includes("PCC"));t=null==t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[5].trim();let n=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("LTE"));n=n.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[5].trim()});let r=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("NR5G"));return(r=r.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[4].trim()}),n.length||r.length)?"LTE"===s?[t,...n].join(", "):[t,...n,...r].join(", "):t}if("NR5G-SA"===s){let s=e.split("\n").find(e=>e.includes("PCC"));s=null==s?void 0:null===(t=s.split(":")[1])||void 0===t?void 0:t.split(",")[4].trim();let l=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("NR5G"));return(l=l.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[5].trim()})).length?[s,...l].join(", "):s}},eo=e=>{var s;let l=e.split("\n").find(e=>e.includes("PCC"));l=null==l?void 0:null===(s=l.split(":")[1])||void 0===s?void 0:s.split(",")[1].trim();let t=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("LTE"));t=t.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[1].trim()});let n=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("NR5G"));return(n=n.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[1].trim()}),!l||t.length||n.length)?l&&t.length&&!n.length?[l,...t].join(", "):l&&!t.length&&n.length?[l,...n].join(", "):l&&t.length&&n.length?[l,...t,...n].join(", "):"Unknown":l},ed=(e,s)=>{var l,t,n,r;return"LTE"===s||"NR5G-SA"===s?null===(t=e.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[4].trim():"NR5G-NSA"===s?null===(r=e.split("\n")[2])||void 0===r?void 0:null===(n=r.split(":")[1])||void 0===n?void 0:n.split(",")[2].trim():"Unknown"},ec=(e,s)=>{var l,t,n,r;return"LTE"===s||"NR5G-SA"===s?null===(t=e.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[5].trim():"NR5G-NSA"===s?null===(r=e.split("\n")[2])||void 0===r?void 0:null===(n=r.split(":")[1])||void 0===n?void 0:n.split(",")[3].trim():void 0},eu=e=>{let s=e.split("\n"),l=s.find(e=>e.includes("LTE")),t=s.find(e=>e.includes("NR5G")),n=e=>{var s;return e?null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",").slice(0,4).map(e=>parseInt(e.trim())).filter(e=>-140!==e&&-32768!==e):[]},r=e=>e.length?Math.max(0,Math.min(100,(e.reduce((e,s)=>e+s,0)/e.length- -10)/40*100)):0,i=n(l),a=n(t),o=r(i),d=r(a);return i.length&&a.length?"".concat(Math.round((o+d)/2),"%"):i.length?"".concat(Math.round(o),"%"):a.length?"".concat(Math.round(d),"%"):"Unknown%"},em=e=>{let s=e.split("\n").filter(e=>e.includes("LTE BAND")),l=e.split("\n").filter(e=>e.includes("NR5G BAND"));return s.length&&l.length?[...s,...l].map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[3].replace(/"/g,"")}):s.length?s.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[3].replace(/"/g,"")}):l.length?l.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[3].replace(/"/g,"")}):["Unknown"]},ex=e=>{let s=e.split("\n").filter(e=>e.includes("LTE BAND")),l=e.split("\n").filter(e=>e.includes("NR5G BAND"));return s.length&&l.length?[...s,...l].map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[1]}):s.length?s.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[1]}):l.length?l.map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[1]}):["Unknown"]},ep=e=>{let s=e.split("\n").filter(e=>e.includes("LTE BAND")),l=e.split("\n").filter(e=>e.includes("NR5G BAND")),t=s.map(e=>{var s;return c[null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[2]]}),n=l.map(e=>{var s;return u[null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[2]]});return t.length&&n.length?[...t,...n]:t.length?t:n.length?n:["Unknown"]},eh=(e,s)=>{if("NR5G-SA"===s){let s=e.split("\n"),l=[],t=s.find(e=>e.includes("PCC"));if(t){let e=t.split(":")[1].split(",")[4].trim();l.push(e||"Unknown")}for(let e of s.filter(e=>e.includes("SCC"))){let s=e.split(":")[1].split(",");l.push(s.length>5?s[5].trim():"Unknown")}return l.length>0?l:["Unknown"]}if("LTE"===s){var l;let s=e.split("\n").find(e=>e.includes("PCC"));s=s?null==s?void 0:null===(l=s.split(":")[1])||void 0===l?void 0:l.split(",")[5].trim():"Unknown";let t=e.split("\n").filter(e=>e.includes("SCC")&&e.includes("LTE BAND"));return t.length?[s,...t.map(e=>{var s;return(null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[5])||"Unknown"})]:[s]}if("NR5G-NSA"===s){let s=e.split("\n").filter(e=>e.includes("LTE BAND")),l=e.split("\n").filter(e=>e.includes("NR5G BAND"));return[...s.map(e=>{var s;return(null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[5])||"Unknown"}),...l.map(e=>{var s;return(null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[4])||"Unknown"})]}return["Unknown"]},ev=(e,s,l)=>{if("LTE"===s)return e.split("\n").filter(e=>e.includes("LTE BAND")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[6]});if("NR5G-NSA"===s){let s=e.split("\n").filter(e=>e.includes("LTE BAND")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[6]}),t=l.split("\n").filter(e=>e.includes("NR5G-NSA")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[4]});return s.length&&t.length?[...s,...t]:s.length?s:t.length?t:["Unknown"]}if("NR5G-SA"===s){let e=l.split("\n").find(e=>e.includes("NR5G-SA"));if(e){var t;return[null==e?void 0:null===(t=e.split(":")[1])||void 0===t?void 0:t.split(",")[9]]}}return["Unknown"]},ef=(e,s,l)=>{if("LTE"===s)return e.split("\n").filter(e=>e.includes("BAND")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[7]});if("NR5G-SA"===s){var t;let e=l.split("\n").find(e=>e.includes("NR5G-SA"));return e?[null==e?void 0:null===(t=e.split(":")[1])||void 0===t?void 0:t.split(",")[10]]:["Unknown"]}if("NR5G-NSA"===s){let s=e.split("\n").filter(e=>e.includes("LTE BAND")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[7]}),t=l.split("\n").filter(e=>e.includes("NR5G-NSA")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[6]});if(s.length&&t.length)return[...s,...t];if(s.length)return s;if(t.length)return t}return["Unknown"]},eg=(e,s,l)=>{if("LTE"===s)return e.split("\n").filter(e=>e.includes("BAND")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[9]});if("NR5G-SA"===s){let e=l.split("\n").find(e=>e.includes("NR5G-SA"));if(!e)return["Unknown"];{var t;let s=[null==e?void 0:null===(t=e.split(":")[1])||void 0===t?void 0:t.split(",")[11]];return"-32768"===s[0]?["-"]:s}}if("NR5G-NSA"===s){let s=e.split("\n").filter(e=>e.includes("LTE BAND")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[9]}),t=l.split("\n").filter(e=>e.includes("NR5G-NSA")).map(e=>{var s;return null==e?void 0:null===(s=e.split(":")[1])||void 0===s?void 0:s.split(",")[5]});if(s.length&&t.length)return[...s,...t];if(s.length)return s;if(t.length)return t}return["Unknown"]},ej=e=>{var s,l;let t=[-32768,-140],n=e.split("\n").find(e=>e.includes("LTE")),r=e.split("\n").find(e=>e.includes("NR5G")),i=[],a=[];return(n&&(i=null==n?void 0:null===(s=n.split(":")[1])||void 0===s?void 0:s.split(",").slice(0,4).map(e=>parseInt(e.trim()))),r&&(a=null==r?void 0:null===(l=r.split(":")[1])||void 0===l?void 0:l.split(",").slice(0,4).map(e=>parseInt(e.trim()))),i=i.filter(e=>!t.includes(e)),a=a.filter(e=>!t.includes(e)),i.length)?a.length?"LTE ".concat(i.length.toString()," / NR ").concat(a.length.toString()):"LTE ".concat(i.length.toString()):a.length?"NR ".concat(a.length.toString()):"Unknown"},eN=()=>{let[e,s]=(0,n.useState)(null),[l,t]=(0,n.useState)(!0),[r,i]=(0,n.useState)(null),a=(0,n.useCallback)(async()=>{try{var e,l,t,n,r,a,o,d,c,u,m,x,p,h,v,f,g,j,N,w,b;let i=await fetch("/cgi-bin/quecmanager/at_cmd/fetch_data.sh?set=1"),y=await i.json();console.log(y);let S=await fetch("/cgi-bin/quecmanager/home/fetch_public_ip.sh"),A={simCard:{slot:(null===(e=y[0].response.split("\n")[1])||void 0===e?void 0:e.split(":")[1].trim())||"Unknown",state:y[6].response.match("READY")?"Inserted":"Not Inserted",provider:J(y[2].response)||"Unknown",phoneNumber:(null===(t=y[1].response.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[1].replace(/"/g,"").trim())||"Unknown",imsi:y[3].response.split("\n")[1].trim()||"Unknown",iccid:(null===(n=y[4].response.split("\n")[1])||void 0===n?void 0:n.split(":")[1].trim())||"Unknown",imei:y[5].response.split("\n")[1].trim()||"Unknown"},connection:{apn:(null===(a=y[7].response.split("\n")[1])||void 0===a?void 0:null===(r=a.split(":")[1])||void 0===r?void 0:r.split(",")[2].replace(/"/g,"").trim())||(null===(d=y[12].response.split("\n")[1])||void 0===d?void 0:null===(o=d.split(":")[1])||void 0===o?void 0:o.split(",")[2].replace(/"/g,"").trim())||"Unknown",operatorState:X(y[8].response,y[16].response)||"Unknown",functionalityState:(null===(c=y[9].response.split("\n")[1])||void 0===c?void 0:c.split(":")[1].trim())==="1"?"Enabled":"Disabled",networkType:ee(y[13].response)||"No Signal",modemTemperature:es(y[11].response)||"Unknown",accessTechnology:Y(y[2].response)||"Unknown"},dataTransmission:{carrierAggregation:(null===(u=y[13].response.match(/"LTE BAND \d+"|"NR5G BAND \d+"/g))||void 0===u?void 0:u.length)>1?"Multi":"Inactive",bandwidth:el(y[13].response,ee(y[13].response))||"Unknown",connectedBands:et(y[13].response)||"Unknown",signalStrength:en(y[14].response)||"Unknown",mimoLayers:ej(y[14].response)||"Unknown"},cellularInfo:{cellId:er(y[10].response,ee(y[13].response))||"Unknown",trackingAreaCode:ei(y[10].response,ee(y[13].response))||"Unknown",physicalCellId:ea(y[13].response,ee(y[13].response)),earfcn:eo(y[13].response),mcc:ed(y[10].response,ee(y[13].response))||"Unknown",mnc:ec(y[10].response,ee(y[13].response))||"Unknown",signalQuality:eu(y[19].response)||"Unknown"},currentBands:{id:Array.from({length:null!==(b=null===(m=em(y[13].response))||void 0===m?void 0:m.length)&&void 0!==b?b:0},(e,s)=>s+1)||[1],bandNumber:em(y[13].response)||["Unknown"],earfcn:ex(y[13].response),bandwidth:ep(y[13].response)||["Unknown"],pci:eh(y[13].response,ee(y[13].response))||["Unknown"],rsrp:ev(y[13].response,ee(y[13].response),y[10].response),rsrq:ef(y[13].response,ee(y[13].response),y[10].response)||["Unknown"],sinr:eg(y[13].response,ee(y[13].response),y[10].response)||["Unknown"]},networkAddressing:{publicIPv4:S.ok&&(await S.json()).public_ip||"-",cellularIPv4:(null===(x=y[20].response.split("\n")[1])||void 0===x?void 0:x.split(":")[1].split(",")[3].replace(/"/g,"").trim())||"-",cellularIPv6:(null===(p=y[20].response.split("\n")[1])||void 0===p?void 0:p.split(":")[1].split(",").length)===5?null===(h=y[20].response.split("\n")[1])||void 0===h?void 0:h.split(":")[1].split(",")[4].replace(/"/g,"").trim():"-",carrierPrimaryDNS:(null===(v=y[20].response.split("\n")[1])||void 0===v?void 0:v.split(":")[1].split(",").length)===5?null===(f=y[20].response.split("\n")[1])||void 0===f?void 0:f.split(":")[1].split(",")[4].replace(/"/g,"").trim():null===(g=y[20].response.split("\n")[1])||void 0===g?void 0:g.split(":")[1].split(",").slice(-2)[0].replace(/"/g,"").trim(),carrierSecondaryDNS:(null===(j=y[20].response.split("\n")[1])||void 0===j?void 0:j.split(":")[1].split(",").length)===5?null===(N=y[20].response.split("\n")[1])||void 0===N?void 0:N.split(":")[1].split(",").slice(-1)[0].replace(/"/g,"").trim():null===(w=y[20].response.split("\n")[1])||void 0===w?void 0:w.split(":")[1].split(",").slice(-1)[0].replace(/"/g,"").trim()}};s(A),console.log("Processed home data:",A)}catch(e){console.error("Error fetching home data:",e),s({simCard:{slot:"Not Inserted",state:"Not Inserted",provider:"Unknown",phoneNumber:"Unknown",imsi:"-",iccid:"-",imei:"-"},connection:{apn:"No APN",operatorState:"Unknown",functionalityState:"Disabled",networkType:"No Signal",modemTemperature:"Unknown",accessTechnology:"-"},dataTransmission:{carrierAggregation:"Inactive",connectedBands:"-",signalStrength:"-%",mimoLayers:"-"},cellularInfo:{cellId:"-",trackingAreaCode:"-",physicalCellId:"-",earfcn:"-",mnc:"-",signalQuality:"-%"},currentBands:{id:[1],bandNumber:["-"],earfcn:["-"],bandwidth:["-"],pci:["-"],rsrp:["-"],rsrq:["-"],sinr:["-"]},networkAddressing:{publicIPv4:"-",cellularIPv4:"-",cellularIPv6:"-",carrierPrimaryDNS:"-",carrierSecondaryDNS:"-"}}),i(null)}},[]);return(0,n.useEffect)(()=>{let e,s=!0;return(async()=>{if(s)try{await a()}finally{s&&t(!1)}})(),e=setInterval(()=>{a()},15e3),()=>{s=!1,clearInterval(e)}},[a]),{data:e,isLoading:l,error:r,refresh:(0,n.useCallback)(async()=>{t(!0),await a(),t(!1)},[a])}},ew=()=>{let[e,s]=(0,n.useState)("Unknown"),[l,t]=(0,n.useState)(!0),r=(0,n.useCallback)(async()=>{try{t(!0);let e=await fetch("/cgi-bin/quecmanager/home/check_net.sh"),l=await e.json();s("ACTIVE"===l.connection?"Connected":"Disconnected"),t(!1)}catch(e){console.error("Error fetching data connection state:",e),s("Unknown"),t(!1)}},[]);return(0,n.useEffect)(()=>{r();let e=setInterval(r,3e4);return()=>clearInterval(e)},[r]),{dataConnectionState:e,refresh:(0,n.useCallback)(()=>{r()},[r]),isStateLoading:l}},eb=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][s]},ey=()=>{let[e,s]=(0,n.useState)("0 Bytes"),[l,t]=(0,n.useState)("0 Bytes"),[r,i]=(0,n.useState)(""),a=e=>{var l,n;let r=Array.isArray(e)?e[e.length-1]:e;if(!r)return;i(r.datetime);let a=r.output.replace(/\r\\n/g,"\n").trim().split("\n").filter(e=>e.trim()),o=null===(l=a.find(e=>e.includes("+QGDCNT:")))||void 0===l?void 0:l.trim(),d=null===(n=a.find(e=>e.includes("+QGDNRCNT:")))||void 0===n?void 0:n.trim();if(!o||!d){console.error("Missing required data in response");return}let[c,u]=o.replace("+QGDCNT:","").split(",").map(e=>parseInt(e.trim())),[m,x]=d.replace("+QGDNRCNT:","").split(",").map(e=>parseInt(e.trim()));s(eb((u||0)+(m||0))),t(eb((c||0)+(x||0)))},o=(0,n.useCallback)(async()=>{try{let e=await fetch("/cgi-bin/quecmanager/home/fetch_data_usage.sh"),s=await e.json();a(s)}catch(e){console.error("Error fetching traffic stats:",e)}},[]);return(0,n.useEffect)(()=>{o();let e=setInterval(o,12e3);return()=>clearInterval(e)},[o]),{bytesSent:e,bytesReceived:l,lastUpdateTime:r,refresh:(0,n.useCallback)(()=>{o()},[o])}},eS=()=>{let[e,s]=(0,n.useState)(!1),[l,t]=(0,n.useState)(null),r=(e,s)=>{var l,t,n,r;let i=null===(t=e.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[1].trim(),a=null===(r=s.split("\n")[1])||void 0===r?void 0:null===(n=r.split(":")[1])||void 0===n?void 0:n.split(",")[1].trim();return"1"===i||"1"===a?"Registered":"Not Registered"},i=(e,s)=>{var l,t,n,r;return(null===(t=e.split("\n")[1])||void 0===t?void 0:null===(l=t.split(":")[1])||void 0===l?void 0:l.split(",")[2].replace(/"/g,"").trim())===(null===(r=s.split("\n")[1])||void 0===r?void 0:null===(n=r.split(":")[1])||void 0===n?void 0:n.split(",")[2].replace(/"/g,"").trim())?"Enabled":"Disabled"},a=e=>{var s,l,t,n;let r=null===(l=e.split("\n")[1])||void 0===l?void 0:null===(s=l.split(":")[1])||void 0===s?void 0:s.split(",")[1].trim(),i=null===(n=e.split("\n")[2])||void 0===n?void 0:null===(t=n.split(":")[1])||void 0===t?void 0:t.split(",")[1].trim();return r&&"1"===r||i&&"1"===i?"Connected":"Disconnected"},o=e=>{try{var s,l,t,n;let r=e.trim().split("\n").map(e=>e.trim()),i=r.find(e=>e.includes("+QRSRP:")&&e.includes("LTE")),a=r.find(e=>e.includes("+QRSRP:")&&e.includes("NR5G")),o=[];i&&(o=null==i?void 0:null===(l=i.split(":")[1])||void 0===l?void 0:null===(s=l.split(","))||void 0===s?void 0:s.slice(0,4).map(e=>e.trim()).filter(e=>!isNaN(parseInt(e))).map(e=>parseInt(e)));let d=[];if(a&&(d=null==a?void 0:null===(n=a.split(":")[1])||void 0===n?void 0:null===(t=n.split(","))||void 0===t?void 0:t.slice(0,4).map(e=>e.trim()).filter(e=>!isNaN(parseInt(e))).map(e=>parseInt(e))),o=o.filter(e=>-32768!==e),d=d.filter(e=>-32768!==e),o=o.filter(e=>-140!==e),d=d.filter(e=>-140!==e),o.length>0){let e=o.reduce((e,s)=>e+s,0)/o.length;if(d.length>0){let s=d.reduce((e,s)=>e+s,0)/d.length;return(e+s)/2<-100?"Poor":"Good"}return e<-100?"Poor":"Good"}if(d.length>0)return d.reduce((e,s)=>e+s,0)/d.length<-100?"Poor":"Good";return"N/A"}catch(e){return console.error("Error processing cell signal:",e),"N/A"}},d=e=>{let s=e.split("\n").filter(e=>e.startsWith("+QTEMP:")).map(e=>parseInt(e.split(":")[1].split(",")[1].replace(/"/g,"").trim())).filter(e=>e>=0&&e<99);return s.reduce((e,s)=>e+s,0)/s.length<50?"Normal":"High"},c=e=>{var s,l,t,n,r,i;let a=null===(l=e.split("\n")[1])||void 0===l?void 0:null===(s=l.split(":")[1])||void 0===s?void 0:s.split(",")[1].trim(),o=null===(n=e.split("\n")[2])||void 0===n?void 0:null===(t=n.split(":")[1])||void 0===t?void 0:t.split(",")[1].trim(),d=null===(i=e.split("\n")[3])||void 0===i?void 0:null===(r=i.split(":")[1])||void 0===r?void 0:r.split(",")[1].trim(),c=["0"!==a?"".concat(a):null,"0"!==o?"".concat(o):null,"0"!==d?"".concat(d):null].filter(Boolean);return c.length>0?c.join(", "):"None"};return{isRunningDiagnostics:e,runDiagnosticsData:l,startDiagnostics:async()=>{s(!0);try{let e=await fetch("/cgi-bin/quecmanager/at_cmd/fetch_data.sh?set=6"),s=await e.json();console.log("Diagnostics data:",s);let l={netRegistration:r(s[0].response,s[1].response),simState:s[2].response.split("\n")[1].split(":")[1].trim(),manualAPN:i(s[3].response,s[4].response),wanIP:a(s[5].response),cellSignal:o(s[6].response),modemTemp:d(s[7].response),netReject:c(s[8].response)};return t(l),l}catch(e){throw console.error("Error running diagnostics:",e),e}finally{s(!1)}}}};var eA=l(80159),ek=l(12607),eC=l(25262),eE=l(8782),eI=l(10964),eR=l(89463),eT=l(90304),eM=l(622),eB=l(20633),eD=l(7778),eL=l(99312),eU=l(91994),ez=l(92823),eG=l(71834);let eP=e=>{if(null==e)return"N/A";let s=["B","KB","MB","GB"],l=e,t=0;for(;l>=1024&&t<s.length-1;)l/=1024,t++;return"".concat(l.toFixed(2)," ").concat(s[t])},e_=e=>{if(null==e)return"N/A";let s=["bps","Kbps","Mbps","Gbps"],l=8*e,t=0;for(;l>=1e3&&t<s.length-1;)l/=1e3,t++;return"Gbps"===s[t]?"".concat(l.toFixed(2)," ").concat(s[t]):"".concat(Math.round(l)," ").concat(s[t])},eF=()=>{let{toast:e}=(0,r.dj)(),[s,l]=(0,n.useState)(null),[a,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(null),[m,x]=(0,n.useState)(!1),[p,h]=(0,n.useState)(!1),[v,f]=(0,n.useState)(!1),[g,j]=(0,n.useState)(0),[N,w]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),S=(0,n.useRef)(null),A=(0,n.useRef)(null),k=(0,n.useCallback)(()=>{l(null),d(null),u(null),x(!1),h(!1),f(!1),j(0),A.current=null,S.current&&(clearInterval(S.current),S.current=null)},[]);(0,n.useEffect)(()=>{if(m&&!p){w(!0);let e=setTimeout(()=>{w(!1)},1e4);return()=>clearTimeout(e)}},[m,p]),(0,n.useEffect)(()=>()=>{S.current&&clearInterval(S.current)},[]);let C=(0,n.useCallback)(async()=>{try{let e=await fetch("/cgi-bin/quecmanager/home/speedtest/speedtest_status.sh");if(!e.ok)throw Error("Failed to fetch status: ".concat(e.status));let s=await e.json();if("not_running"===s.status){p&&(u("Test ended unexpectedly"),h(!1)),S.current&&(clearInterval(S.current),S.current=null);return}if(s.type)try{switch(s.type){case"ping":d("ping"),s.ping&&"number"==typeof s.ping.progress&&j(s.ping.progress);break;case"download":case"upload":"ping"!==a&&d(s.type);break;case"result":if(s.download&&s.upload&&s.ping){A.current=s,l(s),x(!0),h(!1),S.current&&(clearInterval(S.current),S.current=null);return}console.warn("Incomplete result data received:",s)}}catch(e){console.error("Error processing speedtest data:",e)}(s.type&&(s.download||s.upload||s.ping)||s.isp)&&(A.current=s,l(s))}catch(e){console.error("Error polling speedtest status:",e),p&&(u("Failed to get speedtest status"),h(!1),S.current&&(clearInterval(S.current),S.current=null))}},[a,p]),E=(0,n.useCallback)(async()=>{if(!N)try{if(k(),f(!0),h(!0),y(!0),!(await fetch("/cgi-bin/quecmanager/home/speedtest/start_speedtest.sh",{method:"GET"})).ok)throw Error("Failed to start speedtest");S.current=setInterval(C,300),f(!1)}catch(e){console.error("Speedtest start error:",e),u(e instanceof Error?"Failed to start speedtest: ".concat(e.message):"Failed to start speedtest"),f(!1),h(!1)}},[N,k,C]);return(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"Network Speedtest"})}),(0,t.jsxs)(i.Wu,{className:"flex flex-col gap-6 p-4 items-center justify-center",children:[(0,t.jsxs)(D.lG,{open:b,onOpenChange:y,children:[(0,t.jsx)(D.zM,{asChild:!0,children:(0,t.jsxs)("div",{className:"relative flex flex-col items-center justify-center",children:[(0,t.jsx)(eG.A,{color:"#5420ab",size:192,className:"-top-8 -left-8 absolute",style:{zIndex:1}}),(0,t.jsx)(U.A,{className:"size-32 z-10 text-primary cursor-pointer hover:text-primary/80 transition-colors duration-300",onClick:e=>{N||(e.preventDefault(),E())}})]})}),(0,t.jsxs)(D.Cf,{className:"sm:max-w-[800px] max-w-xs mx-auto",children:[(0,t.jsx)(D.c7,{children:(0,t.jsxs)(D.L3,{className:"flex items-center",children:[(0,t.jsx)(eI.A,{className:"mr-2"})," Network Speedtest",m&&(0,t.jsx)(o.E,{variant:"outline",className:"ml-2",children:"Complete"}),p&&!m&&(0,t.jsx)(o.E,{variant:"outline",className:"ml-2 bg-primary/10",children:"Running..."})]})}),(0,t.jsx)("div",{className:"lg:max-w-full max-w-sm mx-auto min-w-sm py-6",children:(()=>{var e,l,n,r,o,d,u,x,h,f,j,N,w,b,y,S,A,C,I,R,T,M,B,D,L,U;if(c)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)(ek.A,{className:"text-rose-600 lg:size-48 size-16 animate-pulse"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Network Speedtest Failed"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Something went wrong while running the speedtest.",(0,t.jsx)("span",{className:"underline cursor-pointer ml-2",onClick:()=>{k(),E()},children:"Please try again."})]})]});if(v||p&&!s)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)(eC.A,{className:"text-primary lg:size-48 size-16 animate-pulse"}),(0,t.jsx)("h3",{className:"md:text-xl text-lg font-semibold",children:"Initiating Network Speedtest"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Locating and establishing a connection to a server. Please wait..."})]});if("ping"===a)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)(eE.A,{className:"text-gray-600 size-16 animate-pulse"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Calculating Ping Latency"}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,t.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(100*(g||0),"%")}})}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:(null==s?void 0:s.ping)?"Latency: ".concat(s.ping.latency.toFixed(2)," ms, \n                 Jitter: ").concat(s.ping.jitter.toFixed(2)," ms"):"Measuring network responsiveness..."})]});if(m)return s&&s.download&&s.upload&&s.ping?(0,t.jsxs)("div",{className:"grid gap-4 w-full min-w-sm",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(eI.A,{className:"mr-4 text-violet-600"})," Speedtest Result"]})}),(0,t.jsx)(i.Wu,{className:"lg:py-12 py-6 min-w-sm w-full",children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 grid-cols-1 grid-flow-row gap-4 lg:gap-y-0 gap-y-8 gap-x-8",children:[(0,t.jsxs)("div",{className:"grid gap-1 place-items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eR.A,{className:"text-green-600 lg:size-6 size-4"}),(0,t.jsx)("p",{className:"font-semibold",children:"Download"})]}),(0,t.jsx)("h1",{className:"text-[3rem] font-semibold text-center antialiased leading-tight",children:e_(null===(n=s.download)||void 0===n?void 0:n.bandwidth)}),(0,t.jsxs)("div",{className:"grid gap-0.5 lg:flex lg:items-center lg:space-x-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-x-2",children:[(0,t.jsx)(eT.A,{className:"text-gray-600 lg:size-6 size-4"}),(0,t.jsx)("p",{className:"text-foreground-muted text-sm text-center",children:"Latency"})]}),(0,t.jsxs)("p",{className:"text-foreground-muted text-sm text-center",children:[null!==(M=null===(d=s.download)||void 0===d?void 0:null===(o=d.latency)||void 0===o?void 0:null===(r=o.iqm)||void 0===r?void 0:r.toFixed(2))&&void 0!==M?M:"N/A"," ","ms"]})]})]}),(0,t.jsxs)("div",{className:"grid gap-1.5 place-items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(eM.A,{className:"text-violet-600 lg:size-6 size-4"}),(0,t.jsx)("p",{className:"font-semibold",children:"Upload"})]}),(0,t.jsx)("h1",{className:"text-[3rem] font-semibold text-center antialiased leading-tight",children:e_(null===(u=s.upload)||void 0===u?void 0:u.bandwidth)}),(0,t.jsxs)("div",{className:"grid gap-0.5 lg:flex lg:items-center lg:space-x-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-x-2",children:[(0,t.jsx)(eT.A,{className:"text-gray-600 lg:size-6 size-4"}),(0,t.jsx)("p",{className:"text-foreground-muted text-sm text-center",children:"Latency"})]}),(0,t.jsxs)("p",{className:"text-foreground-muted text-sm text-center",children:[null!==(B=null===(f=s.upload)||void 0===f?void 0:null===(h=f.latency)||void 0===h?void 0:null===(x=h.iqm)||void 0===x?void 0:x.toFixed(2))&&void 0!==B?B:"N/A"," ","ms"]})]})]})]})}),(0,t.jsxs)(i.wL,{className:"flex items-center justify-between mx-auto",children:[(0,t.jsxs)("div",{className:"grid gap-0.5 lg:flex lg:items-center lg:space-x-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-x-2",children:[(0,t.jsx)(eE.A,{className:"text-gray-600 lg:size-6 size-4"}),(0,t.jsx)("p",{className:"text-foreground-muted text-sm text-center",children:"Ping"})]}),(0,t.jsxs)("p",{className:"text-foreground-muted text-sm text-center",children:[null!==(D=null===(N=s.ping)||void 0===N?void 0:null===(j=N.latency)||void 0===j?void 0:j.toFixed(2))&&void 0!==D?D:"N/A"," ms"]})]}),(0,t.jsxs)("div",{className:"grid gap-0.5 lg:flex lg:items-center lg:space-x-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-x-2",children:[(0,t.jsx)(eB.A,{className:"text-gray-600 lg:size-6 size-4"}),(0,t.jsx)("p",{className:"text-foreground-muted text-sm text-center",children:"Jitter"})]}),(0,t.jsxs)("p",{className:"text-foreground-muted text-sm text-center",children:[null!==(L=null===(b=s.ping)||void 0===b?void 0:null===(w=b.jitter)||void 0===w?void 0:w.toFixed(2))&&void 0!==L?L:"N/A"," ms"]})]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(eD.A,{className:"mr-4 text-blue-600"})," Connection & Server Details"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-flow-row gap-2 truncate",children:[(0,t.jsx)("p",{className:"font-medium",children:"ISP:"}),(0,t.jsx)("p",{children:s.isp||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-flow-row gap-2 truncate",children:[(0,t.jsx)("p",{className:"font-medium",children:"Internal IP:"}),(0,t.jsx)("p",{children:(null===(y=s.interface)||void 0===y?void 0:y.internalIp)||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-flow-row gap-2 truncate",children:[(0,t.jsx)("p",{className:"font-medium",children:"External IP:"}),(0,t.jsx)("p",{children:(null===(S=s.interface)||void 0===S?void 0:S.externalIp)||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-flow-row gap-2 truncate",children:[(0,t.jsx)("p",{className:"font-medium",children:"Server Name:"}),(0,t.jsx)("p",{children:(null===(A=s.server)||void 0===A?void 0:A.name)||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-flow-row gap-2 truncate",children:[(0,t.jsx)("p",{className:"font-medium",children:"Location:"}),(0,t.jsx)("p",{children:(null===(C=s.server)||void 0===C?void 0:C.location)||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-flow-row gap-2 truncate",children:[(0,t.jsx)("p",{className:"font-medium",children:"Country:"}),(0,t.jsx)("p",{children:(null===(I=s.server)||void 0===I?void 0:I.country)||"N/A"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 grid-flow-row gap-2 truncate",children:[(0,t.jsx)("p",{className:"font-medium",children:"Server IP:"}),(0,t.jsx)("p",{children:(null===(R=s.server)||void 0===R?void 0:R.host)||"N/A"})]}),(null===(T=s.result)||void 0===T?void 0:T.url)&&(0,t.jsxs)("div",{className:"flex items-center gap-x-2 mt-4",children:[(0,t.jsx)(eL.A,{className:"text-blue-600 size-4"}),(0,t.jsx)("a",{href:s.result.url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-blue-600 hover:underline",children:"View Full Result Online"})]})]})})]})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)(ek.A,{className:"text-amber-500 lg:size-16 size-8"}),(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Incomplete Test Results"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center",children:["The test didn't complete properly. Some data may be missing.",(0,t.jsx)("span",{className:"underline cursor-pointer ml-2 block",onClick:()=>{k(),E()},children:"Run the test again"})]})]});if(!a||!s)return null;if(!s[a])return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[(0,t.jsx)(eU.A,{className:"text-primary lg:size-16 size-8 animate-spin"}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Loading test data..."})]});let z=s[a],G="download"===a;return(0,t.jsxs)(i.Zp,{className:"p-4 w-full",children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[G?(0,t.jsx)(eR.A,{className:"text-green-500 lg:size-6 size-4 mr-1"}):(0,t.jsx)(eM.A,{className:"text-violet-500 lg:size-6 size-4 mr-1"}),(0,t.jsxs)("p",{className:"ml-2",children:["Testing ",G?"Download":"Upload"," Speed"]})]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"grid place-items-center max-w-sm lg:max-w-full mx-auto w-full",children:(0,t.jsx)("h1",{className:"lg:text-[4rem] text-[3rem] font-semibold text-center",children:e_(z.bandwidth)})})}),(0,t.jsx)(i.wL,{children:(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 grid-cols-1 grid-flow-row gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-1 place-items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(ez.A,{className:"mr-2 text-yellow-600"}),"Bytes Transferred"]}),(0,t.jsx)("p",{className:"lg:text-md text-base text-muted font-semibold",children:eP(z.bytes)})]}),(0,t.jsxs)("div",{className:"grid gap-1 place-items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(eI.A,{className:"mr-2 text-purple-600"}),"Elapsed Time"]}),(0,t.jsxs)("p",{className:"lg:text-md text-base text-muted font-semibold",children:[(z.elapsed/1e3).toFixed(2)," sec"]})]}),(0,t.jsxs)("div",{className:"grid gap-1 place-items-center",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(eE.A,{className:"mr-2 text-gray-600"}),"Latency (IQM)"]}),(0,t.jsxs)("p",{className:"lg:text-md text-base text-muted font-semibold",children:[null!==(U=null===(l=z.latency)||void 0===l?void 0:null===(e=l.iqm)||void 0===e?void 0:e.toFixed(2))&&void 0!==U?U:"N/A"," ms"]})]})]})})]})})()}),(0,t.jsx)(D.Es,{className:"flex justify-between items-center",children:m?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:(0,t.jsxs)(B.$,{onClick:()=>{N?e({title:"Please wait",description:"Cooldown period active"}):(k(),E())},variant:"outline",disabled:N,children:[(0,t.jsx)(eU.A,{className:"h-4 w-4"}),"Run Again"]})}),(0,t.jsx)(B.$,{onClick:()=>y(!1),children:"Close"})]}):(0,t.jsx)(t.Fragment,{children:p?(0,t.jsx)(B.$,{onClick:()=>{k(),y(!1)},variant:"destructive",children:"Cancel Test"}):(0,t.jsx)(B.$,{onClick:()=>y(!1),children:"Close"})})})]})]}),(0,t.jsx)(i.BT,{children:N?"Please wait 10 seconds before starting another test.":"Run a speed test to check your internet connection."})]})]})};var eq=l(88926);let eO=e=>{let{data:s,isLoading:l}=e;return(0,t.jsx)(i.Zp,{className:"md:py-6 md:px-6 py-6 px-4 ",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-5 grid-cols-1 grid-flow-row gap-4",children:[(0,t.jsxs)("div",{className:"grid place-items-center gap-1.5",children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Public IPv4 Address"}),(0,t.jsx)("p",{children:l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):null==s?void 0:s.networkAddressing.publicIPv4})]}),(0,t.jsxs)("div",{className:"grid place-items-center gap-1.5",children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Cellular IPv4 Address"}),(0,t.jsx)("p",{children:l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):null==s?void 0:s.networkAddressing.cellularIPv4})]}),(0,t.jsxs)("div",{className:"grid place-items-center gap-1.5",children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Cellular IPv6 Address"}),(0,t.jsx)("p",{children:l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):null==s?void 0:s.networkAddressing.cellularIPv6})]}),(0,t.jsxs)("div",{className:"grid place-items-center gap-1.5",children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Carrier Primary DNS"}),(0,t.jsx)("p",{children:l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):null==s?void 0:s.networkAddressing.carrierPrimaryDNS})]}),(0,t.jsxs)("div",{className:"grid place-items-center gap-1.5",children:[(0,t.jsx)("h2",{className:"font-semibold",children:"Carrier Secondary DNS"}),(0,t.jsx)("p",{children:l?(0,t.jsx)(a.E,{className:"h-4 w-[100px]"}):null==s?void 0:s.networkAddressing.carrierSecondaryDNS})]})]})})},eZ=()=>{let{toast:e}=(0,r.dj)(),[s,l]=(0,n.useState)(!1),{data:i,isLoading:a,refresh:o}=eN(),{dataConnectionState:c,isStateLoading:u,refresh:m}=ew(),{isRunningDiagnostics:x,runDiagnosticsData:f,startDiagnostics:g}=eS(),{bytesSent:j,bytesReceived:N,refresh:w}=ey(),b=async()=>{try{var s,l;let t=await (0,eq.a)("AT+QUIMSLOT?"),n=null===(s=t.response)||void 0===s?void 0:s.raw_output.split("\n")[1].split(":")[1].trim(),r=await (0,eq.a)("1"===n?"AT+QUIMSLOT=2":"AT+QUIMSLOT=1");if("error"===r.status||(null===(l=r.response)||void 0===l?void 0:l.status)==="error")throw Error("Failed to change SIM slot");e({title:"SIM Slot Changed",description:"The SIM slot has been changed successfully"}),setTimeout(async()=>{await (0,eq.a)("AT+COPS=2"),setTimeout(async()=>{let s=await (0,eq.a)("AT+COPS=0");if("error"===s.status)throw Error("Failed to reconnect to the network");e({title:"Network Reconnected",description:"The device has been reconnected to the network"})},2e3)},3e3),setTimeout(y,3e3)}catch(s){console.error("Error changing SIM slot:",s),e({variant:"destructive",title:"SIM Slot Change Failed",description:s instanceof Error?s.message:"Failed to change the SIM slot"})}},y=(0,n.useCallback)(async()=>{try{await Promise.all([o(),m(),w()])}catch(s){console.error("Error refreshing data:",s),e({variant:"destructive",title:"Refresh Failed",description:"Failed to refresh the data"})}},[o,m,w]),[S,k]=(0,n.useState)([]),E=async()=>{try{await g()}catch(e){console.error("Error running diagnostics:",e)}};return(0,n.useEffect)(()=>{f&&console.log("Diagnostics data updated:",f)},[f]),(0,n.useEffect)(()=>{if(i&&i.currentBands){var e;let s=null===(e=i.currentBands.id)||void 0===e?void 0:e.map((e,s)=>{var l,t,n,r,a,o,d;return{id:e,bandNumber:(null===(l=i.currentBands.bandNumber)||void 0===l?void 0:l[s])||"N/A",earfcn:(null===(t=i.currentBands.earfcn)||void 0===t?void 0:t[s])||"N/A",bandwidth:(null===(n=i.currentBands.bandwidth)||void 0===n?void 0:n[s])||"N/A",pci:(null===(r=i.currentBands.pci)||void 0===r?void 0:r[s])||"N/A",rsrp:(null===(a=i.currentBands.rsrp)||void 0===a?void 0:a[s])||"N/A",rsrq:(null===(o=i.currentBands.rsrq)||void 0===o?void 0:o[s])||"N/A",sinr:(null===(d=i.currentBands.sinr)||void 0===d?void 0:d[s])||"N/A"}});s&&k(s)}},[i]),(0,n.useEffect)(()=>{a||(null==i?void 0:i.simCard.state)!=="Not Inserted"||l(!0)},[i,a]),(0,t.jsxs)("div",{className:"grid xl:gap-y-10 gap-y-8 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,t.jsx)("h1",{className:"xl:text-3xl text-base font-bold",children:"Connection Summary"}),(0,t.jsx)(B.$,{variant:"ghost",size:"icon",className:"text-sm",onClick:y,children:(0,t.jsx)(L.A,{className:"xl:size-6 size-5 text-blue-500",strokeWidth:3})})]}),(0,t.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(null==i?void 0:i.simCard.state)==="Not Inserted"&&(0,t.jsxs)(D.lG,{open:s,onOpenChange:l,children:[(0,t.jsx)(D.zM,{asChild:!0,children:(0,t.jsxs)(B.$,{variant:"destructive",children:[(0,t.jsx)(eA.fU4,{className:"xl:size-6 size-5"}),(0,t.jsx)("span",{className:"hidden md:block",children:"No SIM"})]})}),(0,t.jsxs)(D.Cf,{className:"max-w-xs md:max-w-lg",children:[(0,t.jsx)(D.c7,{children:(0,t.jsx)(D.L3,{children:"No SIM Detected"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center",children:(0,t.jsx)(eA.fU4,{className:"xl:size-14 md:size-12 size-6 text-red-500"})}),(0,t.jsx)("p",{className:"text-center",children:"There is no SIM card detected in the device. Please insert a SIM card or change the SIM card slot to use the device."})]}),(0,t.jsxs)("div",{className:"flex justify-end mt-4",children:[(0,t.jsx)(B.$,{onClick:b,className:"mr-2",children:"Change SIM Slot"}),(0,t.jsx)(D.HM,{asChild:!0,children:(0,t.jsx)(B.$,{variant:"secondary",onClick:()=>l(!1),children:"Close"})})]})]})]}),(0,t.jsxs)(D.lG,{children:[(0,t.jsx)(D.zM,{children:(0,t.jsxs)(B.$,{onClick:E,children:[(0,t.jsx)(U.A,{className:"xl:size-6 size-5"}),(0,t.jsx)("span",{className:"hidden md:block",children:"Run Diagnostics"})]})}),!x&&(0,t.jsxs)(D.Cf,{className:"max-w-xs md:max-w-lg",children:[(0,t.jsx)(D.c7,{children:(0,t.jsx)(D.L3,{children:"Diagnostics Result"})}),(0,t.jsx)(D.rr,{children:"This is the result of the diagnostic test ran on your device."}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Network Registration "}),(null==f?void 0:f.netRegistration)==="Registered"?(0,t.jsx)(z.A,{className:"text-green-500"}):(0,t.jsx)(G.A,{className:"text-red-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"U-SIM State"}),(null==f?void 0:f.simState)==="READY"?(0,t.jsx)(z.A,{className:"text-green-500"}):(0,t.jsx)(G.A,{className:"text-red-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Manual APN"}),(null==f?void 0:f.manualAPN)==="Enabled"?(0,t.jsx)(z.A,{className:"text-green-500"}):(0,t.jsx)(G.A,{className:"text-red-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"WAN IP"}),(null==f?void 0:f.wanIP)==="Connected"?(0,t.jsx)(z.A,{className:"text-green-500"}):(0,t.jsx)(G.A,{className:"text-red-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Cellular Signal"}),(null==f?void 0:f.cellSignal)==="Good"?(0,t.jsx)(z.A,{className:"text-green-500"}):(0,t.jsx)(G.A,{className:"text-red-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Modem Temperature"}),(null==f?void 0:f.modemTemp)==="Normal"?(0,t.jsx)(z.A,{className:"text-green-500"}):(0,t.jsx)(G.A,{className:"text-red-500"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-6",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Net Reject Cause"}),(null==f?void 0:f.netReject)==="None"?(0,t.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,t.jsx)(z.A,{className:"text-green-500"}),(0,t.jsx)("span",{children:"None"})]}):(0,t.jsxs)("div",{className:"flex space-x-2 items-center",children:[(0,t.jsx)(G.A,{className:"text-red-500"}),(0,t.jsx)("span",{children:null==f?void 0:f.netReject})]})]})]})]}),x&&(0,t.jsxs)(D.Cf,{className:"max-w-xs md:max-w-lg",children:[(0,t.jsx)(D.c7,{children:(0,t.jsx)(D.L3,{children:"Running Diagnostics"})}),(0,t.jsx)("div",{className:"flex items-center justify-center my-4",children:(0,t.jsx)(_(),{color:"#6D28D9"})}),(0,t.jsx)(D.rr,{className:"text-center",children:"Please wait while we run diagnostics on your device."})]})]})]})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-2 grid-cols-1 grid-flow-row gap-4",children:[(0,t.jsx)("div",{children:(0,t.jsx)(A,{})}),(0,t.jsxs)("div",{className:"grid gap-2 lg:grid-cols-2 grid-cols-1 grid-flow-row",children:[(0,t.jsx)(C,{}),(0,t.jsx)(I,{}),(0,t.jsx)(eF,{}),(0,t.jsx)(M,{})]})]}),(0,t.jsxs)("div",{className:"grid 2xl:grid-cols-4 lg:grid-cols-2 grid-cols-1 gap-4",children:[(0,t.jsx)(d,{data:i,isLoading:a}),(0,t.jsx)(p,{data:i,isLoading:a,dataConnectionState:c,connectionStateLoading:u}),(0,t.jsx)(h,{data:i,isLoading:a,bytesSent:j,bytesReceived:N}),(0,t.jsx)(v,{data:i,isLoading:a})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 w-full",children:[(0,t.jsx)("h1",{className:"xl:text-3xl text-base font-bold",children:"Active Addresses"}),(0,t.jsx)("div",{children:(0,t.jsx)(eO,{data:i,isLoading:a})})]}),(0,t.jsxs)("div",{className:"grid gap-4 w-full",children:[(0,t.jsx)("h1",{className:"xl:text-3xl text-base font-bold",children:"Current Active Bands"}),(0,t.jsx)("div",{children:(0,t.jsx)(V,{bands:S,isLoading:a})})]})]})}},45934:(e,s,l)=>{"use strict";l.d(s,{E:()=>a});var t=l(20475);l(20107);var n=l(29395),r=l(22250);let i=(0,n.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function a(e){let{className:s,variant:l,...n}=e;return(0,t.jsx)("div",{className:(0,r.cn)(i({variant:l}),s),...n})}},42541:(e,s,l)=>{"use strict";l.d(s,{$:()=>d,r:()=>o});var t=l(20475),n=l(20107),r=l(61837),i=l(29395),a=l(22250);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=n.forwardRef((e,s)=>{let{className:l,variant:n,size:i,asChild:d=!1,...c}=e,u=d?r.DX:"button";return(0,t.jsx)(u,{className:(0,a.cn)(o({variant:n,size:i,className:l})),ref:s,...c})});d.displayName="Button"},72167:(e,s,l)=>{"use strict";l.d(s,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>i,aR:()=>a,wL:()=>u});var t=l(20475),n=l(20107),r=l(22250);let i=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow",l),...n})});i.displayName="Card";let a=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",l),...n})});a.displayName="CardHeader";let o=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("h3",{ref:s,className:(0,r.cn)("font-semibold leading-none tracking-tight",l),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("p",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",l),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",l),...n})});c.displayName="CardContent";let u=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",l),...n})});u.displayName="CardFooter"},1307:(e,s,l)=>{"use strict";l.d(s,{II:()=>p,Nt:()=>h,at:()=>m});var t=l(20475),n=l(20107),r=l(81155),i=l(58601),a=l(58736),o=l(22250);let d={light:"",dark:".dark"},c=n.createContext(null);function u(){let e=n.useContext(c);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let m=n.forwardRef((e,s)=>{let{id:l,className:i,children:a,config:d,...u}=e,m=n.useId(),p="chart-".concat(l||m.replace(/:/g,""));return(0,t.jsx)(c.Provider,{value:{config:d},children:(0,t.jsxs)("div",{"data-chart":p,ref:s,className:(0,o.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",i),...u,children:[(0,t.jsx)(x,{id:p,config:d}),(0,t.jsx)(r.u,{children:a})]})})});m.displayName="Chart";let x=e=>{let{id:s,config:l}=e,n=Object.entries(l).filter(e=>{let[s,l]=e;return l.theme||l.color});return n.length?(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(d).map(e=>{let[l,t]=e;return"\n".concat(t," [data-chart=").concat(s,"] {\n").concat(n.map(e=>{var s;let[t,n]=e,r=(null===(s=n.theme)||void 0===s?void 0:s[l])||n.color;return r?"  --color-".concat(t,": ").concat(r,";"):null}).join("\n"),"\n}\n")}).join("\n")}}):null},p=i.m,h=n.forwardRef((e,s)=>{let{active:l,payload:r,className:i,indicator:a="dot",hideLabel:d=!1,hideIndicator:c=!1,label:m,labelFormatter:x,labelClassName:p,formatter:h,color:f,nameKey:g,labelKey:j}=e,{config:N}=u(),w=n.useMemo(()=>{var e;if(d||!(null==r?void 0:r.length))return null;let[s]=r,l="".concat(j||s.dataKey||s.name||"value"),n=v(N,s,l),i=j||"string"!=typeof m?null==n?void 0:n.label:(null===(e=N[m])||void 0===e?void 0:e.label)||m;return x?(0,t.jsx)("div",{className:(0,o.cn)("font-medium",p),children:x(i,r)}):i?(0,t.jsx)("div",{className:(0,o.cn)("font-medium",p),children:i}):null},[m,x,r,d,p,N,j]);if(!l||!(null==r?void 0:r.length))return null;let b=1===r.length&&"dot"!==a;return(0,t.jsxs)("div",{ref:s,className:(0,o.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",i),children:[b?null:w,(0,t.jsx)("div",{className:"grid gap-1.5",children:r.map((e,s)=>{let l="".concat(g||e.name||e.dataKey||"value"),n=v(N,e,l),r=f||e.payload.fill||e.color;return(0,t.jsx)("div",{className:(0,o.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===a&&"items-center"),children:h&&(null==e?void 0:e.value)!==void 0&&e.name?h(e.value,e.name,e,s,e.payload):(0,t.jsxs)(t.Fragment,{children:[(null==n?void 0:n.icon)?(0,t.jsx)(n.icon,{}):!c&&(0,t.jsx)("div",{className:(0,o.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===a,"w-1":"line"===a,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===a,"my-0.5":b&&"dashed"===a}),style:{"--color-bg":r,"--color-border":r}}),(0,t.jsxs)("div",{className:(0,o.cn)("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[(0,t.jsxs)("div",{className:"grid gap-1.5",children:[b?w:null,(0,t.jsx)("span",{className:"text-muted-foreground",children:(null==n?void 0:n.label)||e.name})]}),e.value&&(0,t.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})});function v(e,s,l){if("object"!=typeof s||null===s)return;let t="payload"in s&&"object"==typeof s.payload&&null!==s.payload?s.payload:void 0,n=l;return l in s&&"string"==typeof s[l]?n=s[l]:t&&l in t&&"string"==typeof t[l]&&(n=t[l]),n in e?e[n]:e[l]}h.displayName="ChartTooltip",a.s,n.forwardRef((e,s)=>{let{className:l,hideIcon:n=!1,payload:r,verticalAlign:i="bottom",nameKey:a}=e,{config:d}=u();return(null==r?void 0:r.length)?(0,t.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center justify-center gap-4","top"===i?"pb-3":"pt-3",l),children:r.map(e=>{let s="".concat(a||e.dataKey||"value"),l=v(d,e,s);return(0,t.jsxs)("div",{className:(0,o.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[(null==l?void 0:l.icon)&&!n?(0,t.jsx)(l.icon,{}):(0,t.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),null==l?void 0:l.label]},e.value)})}):null}).displayName="ChartLegend"},93557:(e,s,l)=>{"use strict";l.d(s,{Cf:()=>x,Es:()=>h,HM:()=>u,L3:()=>v,c7:()=>p,lG:()=>o,rr:()=>f,zM:()=>d});var t=l(20475),n=l(20107),r=l(60241),i=l(7197),a=l(22250);let o=r.bL,d=r.l9,c=r.ZL,u=r.bm,m=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)(r.hJ,{ref:s,className:(0,a.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...n})});m.displayName=r.hJ.displayName;let x=n.forwardRef((e,s)=>{let{className:l,children:n,...o}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(r.UC,{ref:s,className:(0,a.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l),...o,children:[n,(0,t.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.MKb,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.UC.displayName;let p=e=>{let{className:s,...l}=e;return(0,t.jsx)("div",{className:(0,a.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...l})};p.displayName="DialogHeader";let h=e=>{let{className:s,...l}=e;return(0,t.jsx)("div",{className:(0,a.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...l})};h.displayName="DialogFooter";let v=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)(r.hE,{ref:s,className:(0,a.cn)("text-lg font-semibold leading-none tracking-tight",l),...n})});v.displayName=r.hE.displayName;let f=n.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)(r.VY,{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",l),...n})});f.displayName=r.VY.displayName},36760:(e,s,l)=>{"use strict";l.d(s,{E:()=>r});var t=l(20475),n=l(22250);function r(e){let{className:s,...l}=e;return(0,t.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-primary/10",s),...l})}},32857:(e,s,l)=>{"use strict";l.d(s,{dj:()=>m,oR:()=>u});var t=l(20107);let n=0,r=new Map,i=e=>{if(r.has(e))return;let s=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,s)},a=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:l}=s;return l?i(l):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===l||void 0===l?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},o=[],d={toasts:[]};function c(e){d=a(d,e),o.forEach(e=>{e(d)})}function u(e){let{...s}=e,l=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:l});return c({type:"ADD_TOAST",toast:{...s,id:l,open:!0,onOpenChange:e=>{e||t()}}}),{id:l,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:l}})}}function m(){let[e,s]=t.useState(d);return t.useEffect(()=>(o.push(s),()=>{let e=o.indexOf(s);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},22250:(e,s,l)=>{"use strict";l.d(s,{cn:()=>r});var t=l(64901),n=l(868);function r(){for(var e=arguments.length,s=Array(e),l=0;l<e;l++)s[l]=arguments[l];return(0,n.QP)((0,t.$)(s))}},88926:(e,s,l)=>{"use strict";l.d(s,{a:()=>t});let t=async function(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;try{var t;let n=e.trim().toUpperCase().startsWith("AT")?e.trim():"AT".concat(e.trim()),r=encodeURIComponent(n),i="/cgi-bin/quecmanager/at_cmd/at_queue_client.sh?command=".concat(r);s&&(i+="&wait=1&timeout=".concat(l));let a=await fetch(i,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e3*l+5e3)});if(!a.ok)throw Error("AT command failed with status: ".concat(a.status));let o=await a.json();if(o.error)throw Error("AT queue error: ".concat(o.error));if(s&&(null===(t=o.response)||void 0===t?void 0:t.status)==="timeout")throw Error("AT command timed out after ".concat(l," seconds"));return o}catch(e){throw console.error("AT Command error:",e),e}}}},e=>{var s=s=>e(e.s=s);e.O(0,[9980,9649,7780,8885,9464,241,1074,8520,191,6035,7358],()=>s(31710)),_N_E=e.O()}]);